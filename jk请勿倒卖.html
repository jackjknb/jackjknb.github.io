<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®‰è¿œå¿æ€æºå®éªŒè¡¨ç™½å¢™</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans SC', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: #333;
            min-height: 100vh;
            padding-bottom: 70px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* å¤´éƒ¨æ ·å¼ */
        header {
            text-align: center;
            padding: 25px 0;
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            color: white;
            border-radius: 0 0 20px 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        /* å¯¼èˆªæ æ ·å¼ */
        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }
        
        .tab {
            flex: 1;
            text-align: center;
            padding: 18px 5px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }
        
        .tab:hover {
            background: #f5f9ff;
        }
        
        .tab.active {
            color: #2575fc;
            border-bottom: 3px solid #2575fc;
            background: #f0f7ff;
        }
        
        /* å†…å®¹åŒºåŸŸæ ·å¼ */
        .content {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            min-height: 400px;
            display: none;
        }
        
        .content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* å…¬å‘Šæ¿å—æ ·å¼ */
        .announcement {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(to right, #ffecd2 0%, #fcb69f 100%);
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .announcement h2 {
            color: #e67e22;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }
        
        .announcement p {
            font-size: 1.2rem;
            line-height: 1.6;
            color: #333;
        }
        
        /* å¸–å­æ ·å¼ */
        .post {
            border: 1px solid #eaeaea;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            background: white;
            transition: all 0.3s ease;
        }
        
        .post:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transform: translateY(-3px);
        }
        
        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .post-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .post-author {
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .post-time {
            color: #888;
            font-size: 0.9rem;
            margin-top: 3px;
        }
        
        .post-content {
            line-height: 1.6;
            font-size: 1.05rem;
        }
        
        /* å‘å¸ƒæŒ‰é’® */
        .add-post-btn {
            position: fixed;
            bottom: 90px;
            left: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            box-shadow: 0 5px 15px rgba(37, 117, 252, 0.4);
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s ease;
        }
        
        .add-post-btn:hover {
            transform: scale(1.1);
        }
        
        /* æˆ‘çš„æ¿å—æ ·å¼ */
        .profile-header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        
        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .profile-name {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .profile-info {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 20px;
        }
        
        .info-item {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .info-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .info-label {
            font-weight: bold;
            width: 120px;
            color: #555;
        }
        
        .info-value {
            flex: 1;
        }
        
        .edit-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }
        
        .edit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(37, 117, 252, 0.3);
        }
        
        /* èŠå¤©æ¿å—æ ·å¼ */
        .chat-container {
            display: flex;
            height: 500px;
            border: 1px solid #eaeaea;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .chat-sidebar {
            width: 30%;
            background: #f9f9f9;
            border-right: 1px solid #eaeaea;
            overflow-y: auto;
        }
        
        .chat-main {
            width: 70%;
            display: flex;
            flex-direction: column;
        }
        
        .chat-contact {
            padding: 15px;
            border-bottom: 1px solid #eaeaea;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .chat-contact:hover, .chat-contact.active {
            background: #e6f0ff;
        }
        
        .chat-contact-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .chat-contact-lastmsg {
            color: #888;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .chat-header {
            padding: 15px;
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            color: white;
            font-weight: bold;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f5f9ff;
        }
        
        .message {
            margin-bottom: 15px;
            max-width: 70%;
        }
        
        .message.received {
            align-self: flex-start;
        }
        
        .message.sent {
            align-self: flex-end;
            margin-left: auto;
        }
        
        .message-content {
            padding: 12px 15px;
            border-radius: 15px;
            display: inline-block;
        }
        
        .message.received .message-content {
            background: white;
            border-top-left-radius: 5px;
        }
        
        .message.sent .message-content {
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            color: white;
            border-top-right-radius: 5px;
        }
        
        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid #eaeaea;
            background: white;
        }
        
        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            outline: none;
            font-size: 1rem;
        }
        
        .chat-input button {
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            margin-left: 10px;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #2575fc;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }
        
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .modal-buttons {
            display: flex;
            gap: 15px;
        }
        
        .modal-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .modal-btn.primary {
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            color: white;
        }
        
        .modal-btn.secondary {
            background: #f0f0f0;
            color: #333;
        }
        
        .modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        /* åº•éƒ¨å¯¼èˆª */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            display: flex;
            padding: 12px 0;
            box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.08);
            z-index: 99;
        }
        
        .bottom-nav-item {
            flex: 1;
            text-align: center;
            font-size: 0.9rem;
            color: #888;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .bottom-nav-item.active {
            color: #2575fc;
        }
        
        .bottom-nav-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .nav-tabs {
                display: none;
            }
            
            .bottom-nav {
                display: flex;
            }
            
            .chat-container {
                flex-direction: column;
                height: 600px;
            }
            
            .chat-sidebar, .chat-main {
                width: 100%;
            }
            
            .chat-sidebar {
                height: 40%;
            }
            
            .chat-main {
                height: 60%;
            }
        }
        
        @media (min-width: 769px) {
            .bottom-nav {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>å®‰è¿œå¿æ€æºå®éªŒè¡¨ç™½å¢™</h1>
            <p class="subtitle">è¡¨è¾¾ä½ çš„å¿ƒæ„ï¼Œåˆ†äº«ä½ çš„æ•…äº‹</p>
        </header>
        
        <!-- æ¡Œé¢å¯¼èˆª -->
        <div class="nav-tabs">
            <div class="tab active" data-tab="announcement">å…¬å‘Š</div>
            <div class="tab" data-tab="posts">å‘å¸–</div>
            <div class="tab" data-tab="profile">æˆ‘çš„</div>
            <div class="tab" data-tab="chat">èŠå¤©</div>
        </div>
        
        <!-- å…¬å‘Šæ¿å— -->
        <div class="content active" id="announcement-content">
            <div class="announcement">
                <h2>ç½‘ç«™å…¬å‘Š</h2>
                <p>æœ¬ç½‘ç«™ä¸º jkå¤§ç‰›åˆ¶ä½œï¼Œå¦‚æœ‰bugè¯·åé¦ˆï¼ˆçœŸçš„ä¼šå›ï¼‰</p>
                <p style="margin-top: 15px; font-size: 1rem; color: #666;">åé¦ˆæ–¹å¼ï¼šç‚¹å‡»ä¸‹æ–¹"æˆ‘çš„"æ¿å—ï¼Œç¼–è¾‘ä¸ªäººä¿¡æ¯æ—¶å¡«å†™åé¦ˆå†…å®¹</p>
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <h3 style="color: #2575fc; margin-bottom: 20px;">ä½¿ç”¨è¯´æ˜</h3>
                <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
                    <div style="flex: 1; min-width: 200px; background: #f0f7ff; padding: 20px; border-radius: 10px;">
                        <i class="fas fa-bullhorn" style="font-size: 2rem; color: #6a11cb; margin-bottom: 15px;"></i>
                        <h4>æŸ¥çœ‹å…¬å‘Š</h4>
                        <p>äº†è§£ç½‘ç«™æœ€æ–°ä¿¡æ¯å’Œä½¿ç”¨è§„åˆ™</p>
                    </div>
                    <div style="flex: 1; min-width: 200px; background: #f0f7ff; padding: 20px; border-radius: 10px;">
                        <i class="fas fa-pencil-alt" style="font-size: 2rem; color: #6a11cb; margin-bottom: 15px;"></i>
                        <h4>å‘å¸ƒå¸–å­</h4>
                        <p>ç‚¹å‡»å‘å¸–æ¿å—ï¼Œå·¦ä¸‹è§’åŠ å·å³å¯å‘å¸–</p>
                    </div>
                    <div style="flex: 1; min-width: 200px; background: #f0f7ff; padding: 20px; border-radius: 10px;">
                        <i class="fas fa-user-circle" style="font-size: 2rem; color: #6a11cb; margin-bottom: 15px;"></i>
                        <h4>ä¸ªäººèµ„æ–™</h4>
                        <p>åœ¨æˆ‘çš„æ¿å—å¡«å†™ä¸ªäººä¿¡æ¯</p>
                    </div>
                    <div style="flex: 1; min-width: 200px; background: #f0f7ff; padding: 20px; border-radius: 10px;">
                        <i class="fas fa-comments" style="font-size: 2rem; color: #6a11cb; margin-bottom: 15px;"></i>
                        <h4>å®æ—¶èŠå¤©</h4>
                        <p>æ·»åŠ å¥½å‹ï¼Œå‘é€æ¶ˆæ¯å’Œè¡¨æƒ…</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å‘å¸–æ¿å— -->
        <div class="content" id="posts-content">
            <h2 style="margin-bottom: 25px; color: #2575fc;">è¡¨ç™½å¢™å¸–å­</h2>
            
            <div id="posts-list">
                <!-- å¸–å­ä¼šåŠ¨æ€åŠ è½½åˆ°è¿™é‡Œ -->
            </div>
        </div>
        
        <!-- æˆ‘çš„æ¿å— -->
        <div class="content" id="profile-content">
            <div class="profile-header">
                <div class="profile-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <h2 class="profile-name" id="profile-name">æœªè®¾ç½®ç”¨æˆ·å</h2>
                <p style="color: #888;" id="profile-bio">æš‚æ— ç®€ä»‹</p>
            </div>
            
            <div class="profile-info">
                <div class="info-item">
                    <div class="info-label">å¹´é¾„</div>
                    <div class="info-value" id="info-age">æœªå¡«å†™</div>
                </div>
                <div class="info-item">
                    <div class="info-label">å­¦æ ¡</div>
                    <div class="info-value" id="info-school">æœªå¡«å†™</div>
                </div>
                <div class="info-item">
                    <div class="info-label">QQå·</div>
                    <div class="info-value" id="info-qq">æœªå¡«å†™</div>
                </div>
                <div class="info-item">
                    <div class="info-label">æ‰‹æœºå·ç </div>
                    <div class="info-value" id="info-phone">æœªå¡«å†™</div>
                </div>
            </div>
            
            <button class="edit-btn" id="edit-profile-btn">ç¼–è¾‘ä¸ªäººä¿¡æ¯</button>
        </div>
        
        <!-- èŠå¤©æ¿å— -->
        <div class="content" id="chat-content">
            <h2 style="margin-bottom: 25px; color: #2575fc;">èŠå¤©</h2>
            
            <div class="chat-container">
                <div class="chat-sidebar">
                    <div class="chat-contact active" data-contact="1">
                        <div class="chat-contact-name">ç‹å°èŒ</div>
                        <div class="chat-contact-lastmsg">ä½ å¥½å‘€ï¼åœ¨å¹²å˜›å‘¢ï¼Ÿ</div>
                    </div>
                    <div class="chat-contact" data-contact="2">
                        <div class="chat-contact-name">ææ€æº</div>
                        <div class="chat-contact-lastmsg">ä»Šå¤©çš„æ•°å­¦ä½œä¸šä½ å†™äº†å—ï¼Ÿ</div>
                    </div>
                    <div class="chat-contact" data-contact="3">
                        <div class="chat-contact-name">å¼ æ˜è½©</div>
                        <div class="chat-contact-lastmsg">å‘¨æœ«ä¸€èµ·å»å›¾ä¹¦é¦†å—ï¼Ÿ</div>
                    </div>
                    <div class="chat-contact" data-contact="4">
                        <div class="chat-contact-name">åˆ˜é›¨æ¬£</div>
                        <div class="chat-contact-lastmsg">ğŸ˜Š è¡¨æƒ…æµ‹è¯•</div>
                    </div>
                </div>
                
                <div class="chat-main">
                    <div class="chat-header" id="chat-header">ä¸ ç‹å°èŒ èŠå¤©ä¸­</div>
                    
                    <div class="chat-messages" id="chat-messages">
                        <div class="message received">
                            <div class="message-content">ä½ å¥½ï¼æ¬¢è¿ä½¿ç”¨å®‰è¿œå¿æ€æºå®éªŒè¡¨ç™½å¢™èŠå¤©åŠŸèƒ½ï¼</div>
                        </div>
                        <div class="message received">
                            <div class="message-content">æˆ‘æ˜¯ç‹å°èŒï¼Œæœ‰ä»€ä¹ˆéœ€è¦å¸®åŠ©çš„å—ï¼Ÿ</div>
                        </div>
                        <div class="message sent">
                            <div class="message-content">ä½ å¥½ï¼Œè¿™ä¸ªè¡¨ç™½å¢™ç½‘ç«™çœŸä¸é”™ï¼</div>
                        </div>
                        <div class="message received">
                            <div class="message-content">è°¢è°¢ï¼è®°å¾—å¤šæ¥å‘å¸–å“¦ ğŸ˜Š</div>
                        </div>
                    </div>
                    
                    <div class="chat-input">
                        <input type="text" id="chat-input" placeholder="è¾“å…¥æ¶ˆæ¯...">
                        <button id="send-btn"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å‘å¸ƒå¸–å­æŒ‰é’®ï¼ˆåªåœ¨å‘å¸–æ¿å—æ˜¾ç¤ºï¼‰ -->
        <div class="add-post-btn" id="add-post-btn">
            <i class="fas fa-plus"></i>
        </div>
        
        <!-- ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆª -->
        <div class="bottom-nav">
            <div class="bottom-nav-item active" data-tab="announcement">
                <div class="bottom-nav-icon"><i class="fas fa-bullhorn"></i></div>
                <div>å…¬å‘Š</div>
            </div>
            <div class="bottom-nav-item" data-tab="posts">
                <div class="bottom-nav-icon"><i class="fas fa-pencil-alt"></i></div>
                <div>å‘å¸–</div>
            </div>
            <div class="bottom-nav-item" data-tab="profile">
                <div class="bottom-nav-icon"><i class="fas fa-user"></i></div>
                <div>æˆ‘çš„</div>
            </div>
            <div class="bottom-nav-item" data-tab="chat">
                <div class="bottom-nav-icon"><i class="fas fa-comments"></i></div>
                <div>èŠå¤©</div>
            </div>
        </div>
    </div>
    
    <!-- å‘å¸ƒå¸–å­æ¨¡æ€æ¡† -->
    <div class="modal" id="post-modal">
        <div class="modal-content">
            <div class="modal-header">å‘å¸ƒæ–°å¸–å­</div>
            <div class="form-group">
                <label for="post-author">ä½ çš„åå­—</label>
                <input type="text" id="post-author" placeholder="è¯·è¾“å…¥ä½ çš„åå­—">
            </div>
            <div class="form-group">
                <label for="post-content">å¸–å­å†…å®¹</label>
                <textarea id="post-content" placeholder="æƒ³è¯´çš„è¯..."></textarea>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn secondary" id="cancel-post">å–æ¶ˆ</button>
                <button class="modal-btn primary" id="submit-post">å‘å¸ƒ</button>
            </div>
        </div>
    </div>
    
    <!-- ç¼–è¾‘ä¸ªäººä¿¡æ¯æ¨¡æ€æ¡† -->
    <div class="modal" id="profile-modal">
        <div class="modal-content">
            <div class="modal-header">ç¼–è¾‘ä¸ªäººä¿¡æ¯</div>
            <div class="form-group">
                <label for="edit-name">å§“å</label>
                <input type="text" id="edit-name" placeholder="è¯·è¾“å…¥ä½ çš„å§“å">
            </div>
            <div class="form-group">
                <label for="edit-bio">ç®€ä»‹</label>
                <input type="text" id="edit-bio" placeholder="ç®€å•ä»‹ç»ä¸€ä¸‹è‡ªå·±">
            </div>
            <div class="form-group">
                <label for="edit-age">å¹´é¾„</label>
                <input type="number" id="edit-age" placeholder="è¯·è¾“å…¥å¹´é¾„">
            </div>
            <div class="form-group">
                <label for="edit-school">å­¦æ ¡</label>
                <input type="text" id="edit-school" placeholder="è¯·è¾“å…¥å­¦æ ¡åç§°">
            </div>
            <div class="form-group">
                <label for="edit-qq">QQå·</label>
                <input type="text" id="edit-qq" placeholder="è¯·è¾“å…¥QQå·">
            </div>
            <div class="form-group">
                <label for="edit-phone">æ‰‹æœºå·ç </label>
                <input type="tel" id="edit-phone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç ">
            </div>
            <div class="modal-buttons">
                <button class="modal-btn secondary" id="cancel-edit">å–æ¶ˆ</button>
                <button class="modal-btn primary" id="save-profile">ä¿å­˜</button>
            </div>
        </div>
    </div>

    <script>
        // åˆå§‹å¸–å­æ•°æ®
        const initialPosts = [
            {
                id: 1,
                author: "åŒ¿åç”¨æˆ·",
                content: "ä»Šå¤©åœ¨æ“åœºçœ‹åˆ°ä½ æ‰“ç¯®çƒçš„æ ·å­å¥½å¸…ï¼Œå¯ä»¥è®¤è¯†ä¸€ä¸‹å—ï¼Ÿ",
                time: "2å°æ—¶å‰",
                avatar: "åŒ¿"
            },
            {
                id: 2,
                author: "åˆä¸‰(5)ç­æŸåŒå­¦",
                content: "æ„Ÿè°¢åŒæ¡Œå¸®æˆ‘è¡¥ä¹ æ•°å­¦ï¼Œè¿™æ¬¡è€ƒè¯•è¿›æ­¥äº†20åˆ†ï¼",
                time: "5å°æ—¶å‰",
                avatar: "åŒ"
            },
            {
                id: 3,
                author: "é»˜é»˜å…³æ³¨ä½ çš„äºº",
                content: "æ¯å¤©æœ€æœŸå¾…çš„å°±æ˜¯è¯¾é—´æ“æ—¶é—´ï¼Œå› ä¸ºèƒ½çœ‹åˆ°ä½ ã€‚å¸Œæœ›ä½ å¤©å¤©å¼€å¿ƒï¼",
                time: "1å¤©å‰",
                avatar: "é»˜"
            },
            {
                id: 4,
                author: "æ€æºå­¦å­",
                content: "å¯»æ‰¾ä¸€èµ·å­¦ä¹ çš„å°ä¼™ä¼´ï¼Œå‘¨æœ«å›¾ä¹¦é¦†çº¦èµ·æ¥ï¼",
                time: "2å¤©å‰",
                avatar: "å­¦"
            }
        ];

        // å½“å‰ç”¨æˆ·ä¿¡æ¯
        let userProfile = {
            name: "æœªè®¾ç½®ç”¨æˆ·å",
            bio: "æš‚æ— ç®€ä»‹",
            age: "",
            school: "",
            qq: "",
            phone: ""
        };

        // èŠå¤©æ•°æ®
        const chatData = {
            1: [
                {sender: "receiver", content: "ä½ å¥½ï¼æ¬¢è¿ä½¿ç”¨å®‰è¿œå¿æ€æºå®éªŒè¡¨ç™½å¢™èŠå¤©åŠŸèƒ½ï¼"},
                {sender: "receiver", content: "æˆ‘æ˜¯ç‹å°èŒï¼Œæœ‰ä»€ä¹ˆéœ€è¦å¸®åŠ©çš„å—ï¼Ÿ"},
                {sender: "sender", content: "ä½ å¥½ï¼Œè¿™ä¸ªè¡¨ç™½å¢™ç½‘ç«™çœŸä¸é”™ï¼"},
                {sender: "receiver", content: "è°¢è°¢ï¼è®°å¾—å¤šæ¥å‘å¸–å“¦ ğŸ˜Š"}
            ],
            2: [
                {sender: "receiver", content: "ä½ å¥½ï¼Œæˆ‘æ˜¯ææ€æº"},
                {sender: "receiver", content: "ä»Šå¤©çš„æ•°å­¦ä½œä¸šä½ å†™äº†å—ï¼Ÿ"}
            ],
            3: [
                {sender: "receiver", content: "ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ æ˜è½©"},
                {sender: "receiver", content: "å‘¨æœ«ä¸€èµ·å»å›¾ä¹¦é¦†å—ï¼Ÿ"}
            ],
            4: [
                {sender: "receiver", content: "ä½ å¥½ï¼Œæˆ‘æ˜¯åˆ˜é›¨æ¬£"},
                {sender: "receiver", content: "ğŸ˜Š è¡¨æƒ…æµ‹è¯•"}
            ]
        };

        // DOMå…ƒç´ 
        const tabs = document.querySelectorAll('.tab, .bottom-nav-item');
        const contents = document.querySelectorAll('.content');
        const addPostBtn = document.getElementById('add-post-btn');
        const postModal = document.getElementById('post-modal');
        const cancelPostBtn = document.getElementById('cancel-post');
        const submitPostBtn = document.getElementById('submit-post');
        const editProfileBtn = document.getElementById('edit-profile-btn');
        const profileModal = document.getElementById('profile-modal');
        const cancelEditBtn = document.getElementById('cancel-edit');
        const saveProfileBtn = document.getElementById('save-profile');
        const postsList = document.getElementById('posts-list');
        const chatContacts = document.querySelectorAll('.chat-contact');
        const chatMessages = document.getElementById('chat-messages');
        const chatHeader = document.getElementById('chat-header');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');

        // å½“å‰æ¿€æ´»çš„èŠå¤©è”ç³»äºº
        let activeChatContact = 1;

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            // åŠ è½½å¸–å­
            loadPosts();
            
            // åŠ è½½ç”¨æˆ·ä¿¡æ¯
            loadProfile();
            
            // ç»‘å®šäº‹ä»¶
            bindEvents();
            
            // é»˜è®¤æ˜¾ç¤ºç¬¬ä¸€ä¸ªèŠå¤©å¯¹è¯
            loadChatMessages(1);
        });

        // åŠ è½½å¸–å­
        function loadPosts() {
            postsList.innerHTML = '';
            
            // ä»localStorageè·å–å¸–å­æˆ–ä½¿ç”¨åˆå§‹æ•°æ®
            let posts = JSON.parse(localStorage.getItem('ayxbq_posts')) || initialPosts;
            
            if (posts.length === 0) {
                postsList.innerHTML = '<p style="text-align: center; color: #888; padding: 40px 0;">è¿˜æ²¡æœ‰å¸–å­ï¼Œå¿«æ¥å‘å¸ƒç¬¬ä¸€ä¸ªå§ï¼</p>';
                return;
            }
            
            // æ˜¾ç¤ºå¸–å­
            posts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'post';
                postElement.innerHTML = `
                    <div class="post-header">
                        <div class="post-avatar">${post.avatar}</div>
                        <div>
                            <div class="post-author">${post.author}</div>
                            <div class="post-time">${post.time}</div>
                        </div>
                    </div>
                    <div class="post-content">${post.content}</div>
                `;
                postsList.appendChild(postElement);
            });
            
            // ä¿å­˜å¸–å­åˆ°localStorage
            localStorage.setItem('ayxbq_posts', JSON.stringify(posts));
        }

        // åŠ è½½ç”¨æˆ·ä¿¡æ¯
        function loadProfile() {
            // ä»localStorageè·å–ç”¨æˆ·ä¿¡æ¯
            const savedProfile = localStorage.getItem('ayxbq_profile');
            if (savedProfile) {
                userProfile = JSON.parse(savedProfile);
            }
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('profile-name').textContent = userProfile.name;
            document.getElementById('profile-bio').textContent = userProfile.bio;
            document.getElementById('info-age').textContent = userProfile.age || 'æœªå¡«å†™';
            document.getElementById('info-school').textContent = userProfile.school || 'æœªå¡«å†™';
            document.getElementById('info-qq').textContent = userProfile.qq || 'æœªå¡«å†™';
            document.getElementById('info-phone').textContent = userProfile.phone || 'æœªå¡«å†™';
        }

        // ç»‘å®šäº‹ä»¶
        function bindEvents() {
            // æ ‡ç­¾é¡µåˆ‡æ¢
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    
                    // æ›´æ–°æ ‡ç­¾çŠ¶æ€
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // æ›´æ–°å†…å®¹æ˜¾ç¤º
                    contents.forEach(content => content.classList.remove('active'));
                    document.getElementById(`${tabName}-content`).classList.add('active');
                    
                    // æ˜¾ç¤º/éšè—å‘å¸ƒæŒ‰é’®
                    if (tabName === 'posts') {
                        addPostBtn.style.display = 'flex';
                    } else {
                        addPostBtn.style.display = 'none';
                    }
                    
                    // å¦‚æœæ˜¯èŠå¤©æ¿å—ï¼Œé‡æ–°åŠ è½½å½“å‰èŠå¤©
                    if (tabName === 'chat') {
                        loadChatMessages(activeChatContact);
                    }
                });
            });

            // å‘å¸ƒå¸–å­æŒ‰é’®
            addPostBtn.addEventListener('click', function() {
                postModal.classList.add('active');
                document.getElementById('post-author').value = userProfile.name !== 'æœªè®¾ç½®ç”¨æˆ·å' ? userProfile.name : '';
            });

            // å–æ¶ˆå‘å¸ƒ
            cancelPostBtn.addEventListener('click', function() {
                postModal.classList.remove('active');
                document.getElementById('post-author').value = '';
                document.getElementById('post-content').value = '';
            });

            // æäº¤å¸–å­
            submitPostBtn.addEventListener('click', function() {
                const author = document.getElementById('post-author').value.trim();
                const content = document.getElementById('post-content').value.trim();
                
                if (!author || !content) {
                    alert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯ï¼');
                    return;
                }
                
                // åˆ›å»ºæ–°å¸–å­
                const newPost = {
                    id: Date.now(),
                    author: author,
                    content: content,
                    time: 'åˆšåˆš',
                    avatar: author.charAt(0)
                };
                
                // è·å–ç°æœ‰å¸–å­
                let posts = JSON.parse(localStorage.getItem('ayxbq_posts')) || initialPosts;
                posts.unshift(newPost); // æ·»åŠ åˆ°å¼€å¤´
                
                // ä¿å­˜åˆ°localStorage
                localStorage.setItem('ayxbq_posts', JSON.stringify(posts));
                
                // é‡æ–°åŠ è½½å¸–å­
                loadPosts();
                
                // å…³é—­æ¨¡æ€æ¡†
                postModal.classList.remove('active');
                document.getElementById('post-author').value = '';
                document.getElementById('post-content').value = '';
                
                alert('å¸–å­å‘å¸ƒæˆåŠŸï¼');
            });

            // ç¼–è¾‘ä¸ªäººä¿¡æ¯
            editProfileBtn.addEventListener('click', function() {
                document.getElementById('edit-name').value = userProfile.name;
                document.getElementById('edit-bio').value = userProfile.bio;
                document.getElementById('edit-age').value = userProfile.age;
                document.getElementById('edit-school').value = userProfile.school;
                document.getElementById('edit-qq').value = userProfile.qq;
                document.getElementById('edit-phone').value = userProfile.phone;
                
                profileModal.classList.add('active');
            });

            // å–æ¶ˆç¼–è¾‘
            cancelEditBtn.addEventListener('click', function() {
                profileModal.classList.remove('active');
            });

            // ä¿å­˜ä¸ªäººä¿¡æ¯
            saveProfileBtn.addEventListener('click', function() {
                userProfile.name = document.getElementById('edit-name').value.trim() || 'æœªè®¾ç½®ç”¨æˆ·å';
                userProfile.bio = document.getElementById('edit-bio').value.trim() || 'æš‚æ— ç®€ä»‹';
                userProfile.age = document.getElementById('edit-age').value.trim();
                userProfile.school = document.getElementById('edit-school').value.trim();
                userProfile.qq = document.getElementById('edit-qq').value.trim();
                userProfile.phone = document.getElementById('edit-phone').value.trim();
                
                // ä¿å­˜åˆ°localStorage
                localStorage.setItem('ayxbq_profile', JSON.stringify(userProfile));
                
                // æ›´æ–°æ˜¾ç¤º
                loadProfile();
                
                // å…³é—­æ¨¡æ€æ¡†
                profileModal.classList.remove('active');
                
                alert('ä¸ªäººä¿¡æ¯ä¿å­˜æˆåŠŸï¼');
            });

            // èŠå¤©è”ç³»äººåˆ‡æ¢
            chatContacts.forEach(contact => {
                contact.addEventListener('click', function() {
                    const contactId = parseInt(this.getAttribute('data-contact'));
                    
                    // æ›´æ–°è”ç³»äººçŠ¶æ€
                    chatContacts.forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    
                    // åŠ è½½èŠå¤©æ¶ˆæ¯
                    loadChatMessages(contactId);
                    activeChatContact = contactId;
                });
            });

            // å‘é€æ¶ˆæ¯
            function sendMessage() {
                const message = chatInput.value.trim();
                if (!message) return;
                
                // æ·»åŠ åˆ°å½“å‰èŠå¤©
                if (!chatData[activeChatContact]) {
                    chatData[activeChatContact] = [];
                }
                
                chatData[activeChatContact].push({
                    sender: 'sender',
                    content: message
                });
                
                // æ¸…ç©ºè¾“å…¥æ¡†
                chatInput.value = '';
                
                // é‡æ–°åŠ è½½æ¶ˆæ¯
                loadChatMessages(activeChatContact);
                
                // æ¨¡æ‹Ÿå›å¤ï¼ˆä»…ç¤ºä¾‹ï¼‰
                setTimeout(() => {
                    const replies = [
                        "æ”¶åˆ°ä½ çš„æ¶ˆæ¯äº†ï¼",
                        "å—¯å—¯ï¼Œæˆ‘æ˜ç™½äº†ã€‚",
                        "è¿™ä¸ªæƒ³æ³•ä¸é”™ï¼",
                        "è°¢è°¢åˆ†äº«ï¼",
                        "ğŸ˜Š",
                        "ğŸ‘"
                    ];
                    
                    const randomReply = replies[Math.floor(Math.random() * replies.length)];
                    
                    chatData[activeChatContact].push({
                        sender: 'receiver',
                        content: randomReply
                    });
                    
                    loadChatMessages(activeChatContact);
                }, 1000);
            }

            sendBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        }

        // åŠ è½½èŠå¤©æ¶ˆæ¯
        function loadChatMessages(contactId) {
            // æ¸…ç©ºå½“å‰æ¶ˆæ¯
            chatMessages.innerHTML = '';
            
            // æ›´æ–°èŠå¤©æ ‡é¢˜
            const contactName = document.querySelector(`.chat-contact[data-contact="${contactId}"] .chat-contact-name`).textContent;
            chatHeader.textContent = `ä¸ ${contactName} èŠå¤©ä¸­`;
            
            // è·å–æ¶ˆæ¯
            const messages = chatData[contactId] || [];
            
            // æ˜¾ç¤ºæ¶ˆæ¯
            messages.forEach(message => {
                const messageElement = document.createElement('div');
                messageElement.className = `message ${message.sender}`;
                messageElement.innerHTML = `<div class="message-content">${message.content}</div>`;
                chatMessages.appendChild(messageElement);
            });
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
    </script>
</body>
</html>